<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>MGF Analyzer</title>
    <style media = "screen">
        body {
            background: #F5F5F5;
        }
        h1,h2 {
             text-align: center;
        }
        .canvasChart {
            text-align: center;
            width: 450px;
        }
        .gridCanvas {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            grid-gap: 10px;
        }
        .centered-element{
            display: flex;
            justify-content: center;
            align-items: center;
        }
        footer {
          text-align: center;
          padding: 3px;
          //background-color: Grey;
          color: grey;
        }
        textarea {
          white-space: pre;
        }
    </style>

  </head>
  <header>
    <a href="https://github.com/p2m2/" target="_blank"><img src="https://img.shields.io/badge/github-p2m2-blue.svg"/></a>
  </header>
  <body>

  <h1><a href="javascript:window.location.reload(true)">MGF Analyzer</a></h1>

  <div  id="display">
    <h2>Input file (MGF)</h2>
    <div id="inputFilesDiv" class="centered-element"></div>
  <br/>
    <div class="centered-element">
      <label for="file">Downloading progress:</label>
      <progress id="file" value="0" max="100"></progress>
    </div>
    <br/>
    <div id="generalStatsDiv" class="centered-element">

      <table>
        <thead>
        <tr>
          <th colspan="2">General file statistics</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>Number of features:</td><td><div id="numberFeatures"></div></td>
        </tr>
        <tr>
          <td>Min PEPMASS:</td><td><div id="minPepmass"></div></td>
        </tr>
        <tr>
          <td>Max PEPMASS:</td><td><div id="maxPepmass"></div></td>
        </tr>
        <tr>
          <td>Min RTINSECONDS:</td><td><div id="minRt"></div></td>
        </tr>
        <tr>
          <td>Max RTINSECONDS:</td><td><div id="maxRt"></div></td>
        </tr>
        <tr>
          <td>Number of scans:</td><td><div id="nbScans"></div></td>
        </tr>
        <tr>
          <td>MSLEVEL found:</td><td><div id="msLevelList"></div></td>
        </tr>
        <tr>
          <td>CHARGE found:</td><td><div id="chargeList"></div></td>
        </tr>
        <tr>
          <td colspan="2"><b>Information about abundance and m/z pairs of fragment ions</b></td>
        </tr>
        <tr>
          <td>mean:</td><td><div id="meanFragIon"></div></td>
        </tr>
        <tr>
          <td>std:</td><td><div id="stdFragIon"></div></td>
        </tr>
        <tr>
          <td>min mz:</td><td><div id="minMzFragIon"></div></td>
        </tr>
        <tr>
          <td>max mz:</td><td><div id="maxMzFragIon"></div></td>
        </tr>
        <tr>
          <td>min abundance:</td><td><div id="minAbundanceFragIon"></div></td>
        </tr>
        <tr>
          <td>max abundance:</td><td><div id="maxAbundanceFragIon"></div></td>
        </tr>
        </tbody>
      </table>
    </div>

    <br/>

    <h2> == Error message == </h2>
    <div class="centered-element">
      <textarea  id="log" rows="10" cols="80" style="color: red;"></textarea>
    </div>
  </div>
    <!-- Include Scala.js compiled code -->
  <script type="text/javascript" >
    (function () {
    var old = console.log;
    var logger = document.getElementById('log');
    console.error = function (message) {
    if (typeof message == 'object') {
    logger.innerHTML += (JSON && JSON.stringify ? JSON.stringify(message) : message) + '\r\n';
    } else {
    logger.innerHTML += message + '\r\n';
    }
    }
    })();
    </script>
    <script type="text/javascript" src="../target/scala-2.13/mgf-parser-opt/main.js"></script>
  </body>
    <footer>
      <a href="https://www6.inrae.fr/p2m2" target="_blank"><img src="p2m2.png" width="120"></a>
      <a href="https://www.metabohub.fr/" target="_blank"><img src="metabohub.png" width="120"></a>
    </footer>

</html>

